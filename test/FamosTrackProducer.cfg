process FamosTrackFit = 
{
    ### keep the logging output to a nice level ###
    #  include "FWCore/MessageService/data/MessageLogger.cfi"
    #  replace MessageLogger.cout.default.limit = 100000
    
    # Enable debug printout
    service = MessageLogger {
	untracked vstring destinations = {"cout"}
	untracked PSet cout = { untracked string threshold = "DEBUG" }
	#	untracked vstring debugModules = {"highestEtJets"}
    }
    
    source = PoolSource 
    { 
	untracked vstring fileNames = {'file:rechits.root'}
	untracked int32 maxEvents = -1
    }
    
    service = SimpleMemoryCheck {
	untracked int32 ignoreTotal = 1 # default is one
    }
    
    ### Magnetic Field ###
    #
    include "MagneticField/Engine/data/volumeBasedMagneticField.cfi"
    #
    
    # KFTrackCandidateMaker
    include "FastSimulation/Tracking/data/GSTrackCandidates.cff"
    
    # CTF track fit with material
    include "FastSimulation/Tracking/data/GSFinalFitWithMaterial.cff"
    
    module out = PoolOutputModule 
    {
	untracked string fileName = 'tracks.root'
	untracked vstring outputCommands = 
	{
	    "keep *"
	}
    }
    
    path p = {
	gsTrackCandidates,
	gsWithMaterialTracks
    }
    
    endpath e = {out}
}
