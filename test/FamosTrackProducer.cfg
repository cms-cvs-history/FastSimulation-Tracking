process PROD  = 
{
    service =  RandomNumberGeneratorService {
	untracked uint32 sourceSeed = 123456789
	# This is to initialize the random engine of Famos
	# Watch out! This works only if the FamosProducer label is "Famos"
	PSet moduleSeeds =
	{
	    #untracked uint32 VtxSmeared = 123456789
	    untracked uint32 famosSimHits = 13579
	    untracked uint32 siTrackerGaussianSmearingRecHits = 24680
            untracked uint32 famosPileUp  = 1167
    }
    }
    
    untracked PSet maxEvents = {untracked int32 input = 1000}

    source = FlatRandomPtGunSource 
    {	 
	untracked uint32 firstRun  = 1
	#untracked int32  maxEvents = 1000
	untracked      PSet  PGunParameters =
	{
	    # you can request more than 1 particle
	    #untracked vint32  PartID = { 211, 11, -13 }
	    untracked vint32 PartID = {13} 
	    untracked double MinEta = -2.4
	    untracked double MaxEta = 2.4
	    untracked double MinPhi = -3.14159265358979323846  # it must be in radians
	    untracked double MaxPhi =  3.14159265358979323846
	    untracked double MinPt   = 50.
	    untracked double MaxPt   = 60.
	}      
	untracked int32 Verbosity = 0 # for printouts, set it to 1 (or greater)   
    }	
    
    # Famos sequences
    include "FastSimulation/Configuration/data/CommonInputsFake.cff"
    include "FastSimulation/Configuration/data/FamosSequences.cff"
    replace VolumeBasedMagneticFieldESProducer.useParametrizedTrackerField = true
    replace famosSimHits.SimulateCalorimetry = false
    replace famosSimHits.SimulateTracking = true

    module o1 = PoolOutputModule { untracked string fileName = "tracks_Gun_test.root"  
	untracked vstring outputCommands =
        {
            "keep *"
        }
    }
    
    path p1 = { 
	famosWithTracks
    }	

    endpath outpath = { o1 }
    
    # Keep the logging output to a nice level #
    include "FWCore/MessageService/data/MessageLogger.cfi"
    replace MessageLogger.destinations = {"detailedInfo.txt"}
    
}		
